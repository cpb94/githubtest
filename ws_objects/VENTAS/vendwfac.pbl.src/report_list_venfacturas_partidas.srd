$PBExportHeader$report_list_venfacturas_partidas.srd
release 5;
datawindow(units=0 timer_interval=0 color=16777215 processing=0 print.documentname="" print.orientation = 0 print.margin.left = 110 print.margin.right = 110 print.margin.top = 97 print.margin.bottom = 97 print.paper.source = 0 print.paper.size = 0 print.prompt=no )
header(height=637 color="536870912" )
summary(height=1 color="536870912" )
footer(height=1 color="536870912" )
detail(height=1 color="536870912"  height.autosize=yes)
table(column=(type=char(5) updatewhereclause=yes name=venpartidasfamilias_partida dbname="venpartidasfamilias.partida" )
 column=(type=number updatewhereclause=yes name=venlifac_cantidad dbname="venlifac.cantidad" )
 column=(type=long updatewhereclause=yes name=venlifac_total_cajas dbname="venlifac.total_cajas" )
 column=(type=char(5) updatewhereclause=yes name=venlifac_tipo_unidad dbname="venlifac.tipo_unidad" )
 column=(type=decimal(4) updatewhereclause=yes name=venlifac_importe dbname="venlifac.importe" )
 column=(type=decimal(4) updatewhereclause=yes name=venlifac_importedto dbname="venlifac.importedto" )
 column=(type=decimal(4) updatewhereclause=yes name=venlifac_peso_neto dbname="venlifac.peso_neto" )
 column=(type=decimal(4) updatewhereclause=yes name=venlifac_peso dbname="venlifac.peso" )
 column=(type=decimal(4) updatewhereclause=yes name=venlifac_impdtopp dbname="venlifac.impdtopp" )
 column=(type=decimal(4) updatewhereclause=yes name=venlifac_neto dbname="venlifac.neto" )
 column=(type=decimal(4) updatewhereclause=yes name=venlifac_bruto dbname="venlifac.bruto" )
 column=(type=char(5) updatewhereclause=yes name=venlifac_empresa dbname="venlifac.empresa" )
 retrieve="PBSELECT( VERSION(400) TABLE(NAME=~"venlifac~" )  TABLE(NAME=~"venpartidasfamilias~" ) COLUMN(NAME=~"venpartidasfamilias.partida~") COLUMN(NAME=~"venlifac.cantidad~") COLUMN(NAME=~"venlifac.total_cajas~") COLUMN(NAME=~"venlifac.tipo_unidad~") COLUMN(NAME=~"venlifac.importe~") COLUMN(NAME=~"venlifac.importedto~") COLUMN(NAME=~"venlifac.peso_neto~") COLUMN(NAME=~"venlifac.peso~") COLUMN(NAME=~"venlifac.impdtopp~") COLUMN(NAME=~"venlifac.neto~") COLUMN(NAME=~"venlifac.bruto~") COLUMN(NAME=~"venlifac.empresa~")    JOIN (LEFT=~"venlifac.empresa~"    OP =~"=~"RIGHT=~"venpartidasfamilias.empresa~"    OUTER1 =~"venlifac.empresa~" )    JOIN (LEFT=~"venlifac.familia~"    OP =~"=~"RIGHT=~"venpartidasfamilias.familia~"    OUTER1 =~"venlifac.familia~" )WHERE(    EXP1 =~"venlifac.empresa~"   OP =~"=~"    EXP2 =~":empresa~"    LOGIC =~"and~" ) WHERE(    EXP1 =~"venlifac.anyo~"   OP =~"=~"    EXP2 =~":anyo~"    LOGIC =~"and~" ) WHERE(    EXP1 =~"venlifac.factura~"   OP =~"=~"    EXP2 =~":factura~" ) ) ORDER(NAME=~"venlifac.empresa~" ASC=yes )  ORDER(NAME=~"venpartidasfamilias.partida~" ASC=yes ) ARG(NAME = ~"empresa~" TYPE = string)  ARG(NAME = ~"anyo~" TYPE = number)  ARG(NAME = ~"factura~" TYPE = number)  ARG(NAME = ~"dif_peso~" TYPE = number)  ARG(NAME = ~"dif_peso_neto~" TYPE = number) " arguments=(("empresa", string),("anyo", number),("factura", number),("dif_peso", number),("dif_peso_neto", number)) )
group(level=1 header.height=441 trailer.height=1 by=("venlifac_empresa" , "venpartidasfamilias_partida" ) header.color="536870912" trailer.color="536870912" )
compute(band=header alignment="0" expression="pagecount()"border="0" color="0" x="5" y="12" height="77" width="261" format="[general]"  name=total_paginas visible="1~t0"  font.face="Arial" font.height="-12" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="16777215" )
compute(band=header alignment="0" expression="~"   DATOS DE LAS PARTIDAS ESTADISTICAS DE LA FACTURA   ~" + STring( factura ,f_mascara_decimales(0)) + ~"   ~""border="0" color="0" x="412" y="436" height="97" width="2460" format="[general]"  font.face="Arial" font.height="-12" font.weight="700"  font.family="2" font.pitch="2" font.charset="0" font.underline="1" background.mode="1" background.color="536870912" )
report(band=header dataobject="report_cabecera" x="1" y="0" height="281" width="3754" border="0"  height.autosize=yes criteria="" nest_arguments=(("empresa")) trail_footer = yes  slideup=directlyabove )
compute(band=header.1 alignment="1" expression="String(Sum( venlifac_neto for group 1),f_mascara_moneda(f_divisa_venfac(empresa,anyo,factura))) + ~"  ~" + f_nombre_moneda_abr(f_divisa_venfac(empresa,anyo,factura))"border="0" color="0" x="1971" y="252" height="65" width="1139" format="[general]"  font.face="Arial" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
compute(band=header.1 alignment="1" expression="STring(Sum( venlifac_total_cajas for group 1),f_mascara_decimales(0))"border="0" color="0" x="252" y="252" height="65" width="211" format="[general]"  font.face="Arial" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
compute(band=header.1 alignment="1" expression="String(Sum(IF  ( venlifac_tipo_unidad =~"1~", venlifac_cantidad ,0) for group 1),f_mascara_decimales(2))"border="0" color="0" x="828" y="252" height="65" width="275" format="[general]"  font.face="Arial" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
compute(band=header.1 alignment="1" expression="String(Sum( venlifac_peso for group 1)  +
(Sum( venlifac_peso for group 1)   * 100 / sum( venlifac_peso   for all)) *  dif_peso /100,f_mascara_decimales(0))"border="0" color="0" x="1134" y="252" height="65" width="403" format="[general]"  name=lpeso  font.face="Arial" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
compute(band=header.1 alignment="1" expression="String(Sum(IF  ( venlifac_tipo_unidad =~"0~", venlifac_cantidad ,0) for group 1),f_mascara_decimales(0))"border="0" color="0" x="499" y="252" height="65" width="302" format="[general]"  font.face="Arial" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
compute(band=header.1 alignment="0" expression="~"  PARTIDA ESTADISTICA  :  ~" + IF(f_tipo_pais(f_pais_venfac(empresa,anyo,factura)) = ~"E~",f_valor2_venpartidas(empresa, venpartidasfamilias_partida),f_valor1_venpartidas(empresa, venpartidasfamilias_partida))"border="1" color="0" x="110" y="28" height="81" width="1870" format="[general]"  font.face="Arial" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
compute(band=header.1 alignment="1" expression="String(Sum( venlifac_peso_neto for group 1)  +
(Sum( venlifac_peso_neto for group 1)   * 100 / sum( venlifac_peso_neto   for all)) *  dif_peso_neto /100,f_mascara_decimales(0))"border="0" color="0" x="1564" y="252" height="65" width="366" format="[general]"  font.face="Arial" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
text(band=header.1 alignment="2" text="TOTAL A REEMBOLSAR FCO. FABRICA"border="0" color="0" x="1980" y="164" height="65" width="1111"  font.face="Arial" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" font.underline="1" background.mode="1" background.color="536870912" )
text(band=header.1 alignment="2" text="CAJAS"border="0" color="0" x="266" y="164" height="65" width="193"  font.face="Arial" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" font.underline="1" background.mode="1" background.color="536870912" )
text(band=header.1 alignment="2" text="METROS"border="0" color="0" x="842" y="164" height="65" width="252"  font.face="Arial" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" font.underline="1" background.mode="1" background.color="536870912" )
text(band=header.1 alignment="2" text="PESO BRUTO"border="0" color="0" x="1139" y="164" height="65" width="389"  font.face="Arial" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" font.underline="1" background.mode="1" background.color="536870912" )
text(band=header.1 alignment="2" text="PIEZAS"border="0" color="0" x="545" y="164" height="65" width="211"  font.face="Arial" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" font.underline="1" background.mode="1" background.color="536870912" )
text(band=header.1 alignment="2" text="PESO NETO"border="0" color="0" x="1573" y="164" height="65" width="348"  font.face="Arial" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" font.underline="1" background.mode="1" background.color="536870912" )
